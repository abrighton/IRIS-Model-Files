subsystem = IRIS
component = sci-adc-assembly

publish {

  description = "Telemetries published by IRIS Science Path ADC Assembly."


  telemetry = [
    {
      name = offset
      description = """
This telemetry reports expected ADC image shifts of IRIS ODGW position demands for each ODGW. The naming convention of detector is defined in ICD-NFIRAOS-IRIS-0421 in [ICD NFIRAOS - IRIS (TMT.SEN.ICD.07.039.REL03)](https://docushare.tmt.org/docushare/dsweb/Get/Document-9718).

__DISCUSSION__: The ADC will shift an image position in a manner that depends upon the current state of the ADC. The estimated image shift (inferred from optical models) is sent from IRIS to the TCS so that the TCS can adjust the IRIS ODGW position demands accordingly. The reference wavelength used to calculate the shift is tcs.cm.iris.imgCurAtmDispersion.referenceWavelength.

__NOTE__: This telemetry definition originates from ICD-TCS-IRIS-0300 in [ICD TCS-IRIS (TMT.SEN.ICD.13.002.CCR08(DRF03))](https://docushare.tmt.org/docushare/dsweb/Get/Document-25887/ICD_TCS_IRIS_CCR08(DRF03)%20-%20track%20change.docx).
"""
      minRate = 20
      maxRate = 20
      archive = true
      archiveRate = 1
      attributes = [
        {
          name = odgw1Shift
          description  = """
This attribute reports image offset of ODGW #1 at reference wavelength. This array holds 2 double values (x and y) in mm in XY plane of FCRS<sub>IRIS</sub>.

__TBD__: Maximum and minimum values.
"""
          type = array
          units = mm
        }
        {
          name = odgw2Shift
          description  = """
This attribute reports image offset of ODGW #2 at reference wavelength. This array holds 2 double values (x and y) in mm in XY plane of FCRS<sub>IRIS</sub>.

__TBD__: Maximum and minimum values.
"""
          type = array
          units = mm
        }
        {
          name = odgw3Shift
          description  = """
This attribute reports image offset of ODGW #3 at reference wavelength. This array holds 2 double values (x and y) in mm in XY plane of FCRS<sub>IRIS</sub>.

__TBD__: Maximum and minimum values.
"""
          type = array
          units = mm
        }
        {
          name = odgw4Shift
          description  = """
This attribute reports image offset of ODGW #4 at reference wavelength. This array holds 2 double values (x and y) in mm in XY plane of FCRS<sub>IRIS</sub>.

__TBD__: Maximum and minimum values.
"""
          type = array
          units = mm
        }
      ]
    }
    {
      name = status
      description = "Current/target ADC status"
      minRate = 1
      maxRate = 1
      archive = true
      archiveRate = 1
      attributes = [
        {
          name = currentOrientation
          description  = """
Current orientation of ADC in FCRS<sub>IRIS-ROT</sub>.
"""
          type = float
          units = degree
        }
        {
          name = currentOrientationChangeRate
          description  = """
Current orientation change rate in FCRS<sub>IRIS-ROT</sub> of ADC calculated based on the rotatoin speed of two prisms.
"""
          type = float
          units = degree/s
        }
        {
          name = currentSeparation
          description  = """
Current separation (differential prism rotation) of ADC.
"""
          type = float
          units = degree
        }
        {
          name = currentSeparationChangeRate
          description  = """
Current separation change rate of ADC calculated based on the rotation speed of two prisms.
"""
          type = float
          units = degree/s
        }
        {
           name = targetOrientation
           description  = """
Target orientation in FCRS<sub>IRIS-ROT</sub> of ADC at the time when this telemetry is issued.
This target value is inferred from the following information:

* orientation of elevation axis in FCRS<sub>IRIS</sub> (tcs.cm.iris.imgCurAtmDispersion eventstream)
* instrument rotator angle (iris.rotator.rotator eventstream)
* mechanical and alignment error (configuration)

Past information may be uesd to infer the target orientation more accurately.
"""
           type = float
           units = degree
        }
        {
           name = targetOrientationChangeRate
           description  = """
Target orientation change rate in FCRS<sub>IRIS-ROT</sub> of ADC at the time when this telemetry is issued.
This target value is inferred from the following information:

* orientation of elevation axis in FCRS<sub>IRIS</sub> (tcs.cm.iris.imgCurAtmDispersion eventstream)
* instrument rotator angle (iris.rotator.rotator eventstream)
* mechanical and alignment error (configuration)

Past information may be uesd to infer the target orientation change rate more accurately.
"""
           type = float
           units = degree
        }
        {
           name = targetSeparation
           description  = """
Target separation (differential prism rotation) of ADC at the time when this telemetry is issued.
This target value is inferred from the following information which is a function of wavelength:

* dispersion curve obtained from TCS (tcs.cm.iris.imgCurAtmDispersion eventstream)
* weighing function including telescope throughput and sepectrum energy distribution of the target celestrial object sent from TSC (tcs.cm.iris.imgCurAtmDispersoion eventstream)
* transmittance of filter (__TBD__ event)
* product of static throughput in the light path to the detector including OIWFS entrance window, IRIS Science Dewar Entrance window and other optical elements inside IRIS.
* quantum efficiency of detector.
* mechanical and alignment error (configuration)

Past information may be uesd to infer the target orientation more accurately.
"""
           type = float
           units = degree
        }
        {
           name = targetSeparationChangeRate
           description  = """
Target separation change rate of ADC at the time when this telemetry is issued.
This target value is inferred from the following information which is a function of wavelength:

* dispersion curve obtained from TCS (tcs.cm.iris.imgCurAtmDispersion eventstream)
* weighing function including telescope throughput and sepectrum energy distribution of the target celestrial object sent from TSC (tcs.cm.iris.imgCurAtmDispersoion eventstream)
* transmittance of filter (__TBD__ event)
* product of static throughput in the light path to the detector including OIWFS entrance window, IRIS Science Dewar Entrance window and other optical elements inside IRIS.
* quantum efficiency of detector.
* mechanical and alignment error (configuration)

Past information may be uesd to infer the target orientation more accurately.
"""
           type = float
           units = degree/s
        }
        {
          name = currentRMSE
          description  = """
Current root mean square error as a result of leat-square fitting.
"""
          type = float
          units = arcsec
	  minimum = 0
        }
	{
	  name = noMotion
	  description = """
This attribute becomes true if all axes are stopped.

It can be used to check if no mechanisms are in motion in Warm Stow, End Taking Daytime Calibration Data, End Night and Stow Use Case. See [IRIS - Software Design Document (TMT.INS.PDD.14.024.DRF07)](https://docushare.tmt.org/docushare/dsweb/Get/Document-32613/160210_IRIS_SDD_DRF07.docx) for more details about those use cases.
"""
	  type = boolean
	}
	{
	  name = locked
	  description = """
This attribute becomes true when this assembly is locked.

It can be used to verify mechanisms are locked in Start Pumping Use Case. See [IRIS - Software Design Document (TMT.INS.PDD.14.024.DRF07)](https://docushare.tmt.org/docushare/dsweb/Get/Document-32613/160210_IRIS_SDD_DRF07.docx) for more details about this use case.
"""
	  type = boolean
	}
        {
           name = state
           description  = """
Current overall state of ADC. Meaning of each value is as follows:  

* __Init:Loaded__         : __TODO__ fill out this item
* __Init:Initilizing__    : __TODO__ fill out this item
* __Init:Uninitializing__ : __TODO__ fill out this item
* __Init:Initialized__    : __TODO__ fill out this item
* __Init:Connecting__     : __TODO__ fill out this item
* __Init:Shutdown__       : __TODO__ fill out this item
* __Init:Running__        : __TODO__ fill out this item
* __Datum:Datuming__      : __TODO__ fill out this item
* __Datum:Braking__       : __TODO__ fill out this item
* __Datum:Paused__        : __TODO__ fill out this item
* __Datum:Error__         : __TODO__ fill out this item
* __Lock:Locking__        : __TODO__ fill out this item
* __Lock:Braking__        : __TODO__ fill out this item
* __Lock:Paused__         : __TODO__ fill out this item
* __Lock:Locked__         : __TODO__ fill out this item
* __Lock:Error__          : __TODO__ fill out this item
* __Park:Parking__        : __TODO__ fill out this item
* __Park:Braking__        : __TODO__ fill out this item
* __Park:Paused__         : __TODO__ fill out this item
* __Park:Parked__         : __TODO__ fill out this item
* __Park:Error__          : __TODO__ fill out this item
* __In:Following__        : __TODO__ fill out this item
* __In:Rotating__         : __TODO__ fill out this item
* __In:InsertedRotating__ : __TODO__ fill out this item
* __In:Braking__          : __TODO__ fill out this item
* __In:Ready__            : __TODO__ fill out this item
* __In:FollowingError__   : __TODO__ fill out this item
* __In:Error__            : __TODO__ fill out this item
* __Out:Retructing__      : __TODO__ fill out this item
* __Out:Inserting__       : __TODO__ fill out this item
* __Out:Braking__         : __TODO__ fill out this item
* __Out:Paused__          : __TODO__ fill out this item
* __Out:Retructed__       : __TODO__ fill out this item
* __Out:Error__           : __TODO__ fill out this item
* __Off:PoweringOff__     : __TODO__ fill out this item
* __Off:PoweredOff__      : __TODO__ fill out this item
* __Off:Error__           : __TODO__ fill out this item

__DISCUSSION__: According to ICD-AOESW-IRIS-0227 in the latest [ICD AOESW-IRIS (TMT.SEN.ICD.14.006.CCR01(DRF12))](https://docushare.tmt.org/docushare/dsweb/Get/Document-31290/ICD_AOESW_IRIS_CCR01(DRF12).docx) wants to know the state of ADC, but the state set defined in ICD AOESW-IRIS is different from the above list. For example, ADC may be retructed from the science light path, but that state is not defined in ICD AOESW-IRIS. We first need to check for what AOESW wants to know the state of ADC.
"""
           type = string
        }
        {
           name = errorMessage
           description  = "Error message."
           type = string
        }
      ]
    }
    {
      name = compensation
      description = """
This telemetry conveys current compensation status for engineering purpose.
"""
      minRate = 1
      maxRate = 1
      archive = false
      attributes = [
        {
           name = referenceWavelength
           description  = """
Current reference wavelength.
"""
           type = float
           units = microns
        }
        {
           name = wavelength
           description  = """
Array of wavelength.
Type of elements is float. The number of elements is __TBD__.
"""
           type = array
           units = microns
        }
        {
           name = power
           description  = """
Current absolute power (counter dispersion applied by this ADC) curve.
Type of element is float. The number of elements is __TBD__.

__DISCUSSION__: According to ICD-AOESW-IRIS-0228 in the latest [ICD AOESW-IRIS (TMT.SEN.ICD.14.006.CCR01(DRF12))](https://docushare.tmt.org/docushare/dsweb/Get/Document-31290/ICD_AOESW_IRIS_CCR01(DRF12).docx) wants to know the power of ADC, but it is not sure if it wants to know power of different wavelengths, or power at a specific wavelength, or power at the reference wavelength. We first need to check for what AOESW wants to know the power of ADC.
"""
           type = array
           units = arcsec
        }
        {
           name = dispersion
           description  = """
Relative atmospheric dispersion curve which this ADC currently corrects.
Type of element is float. The number of elements is __TBD__.
"""
           type = array
           units = arcsec
        }
        {
           name = weight
           description  = """
Total weighing function wihch this ADC currently uses for least-squares fitting. This is a product of all weighing functions including telescope throughput, spectral energy distribution (SED) of the target celestial body, filter throughput, ADC throughput (__TBC__), quantization efficiency of detector, etc.
Type of element is float. The number of elements is __TBD__.
"""
           type = array
           units = arcsec
        }
      ]
    }
    {
      name = compensationConf
      description = """
Current configuration for compensation calculation.

This telemetry can be used to check if the current configuration is as intended. If not, the user shoud edit the configuration via Configuration Service or a local file, and re-initialize this assembly so that the latest configuration will be reloaded. This telemetry is updated only when initialization is performed.

__ASSUMPTION__: Historical record of configuration is retained by Configuration Service as described in [TMT Software Design Document (Volume 2) (TMT.SFT.TEC.12.016.DRF04)](https://docushare.tmt.org/docushare/dsweb/Get/Document-24358/TMTSoftwareDesign2_DRF04.pdf). Thus, it is not necessary to archive this telemetry.
"""
      maxRate = 1
      archive = false
      attributes = [
        {
           name = wavelength
           description  = """
Array of wavelength.
Type of elements is float. The number of elements is __TBD__.
"""
           type = array
           units = microns
        }
        {
           name = staticThroughput
           description  = """
Product of static throughput in the light path inside IRIS to the detector as a function of wavelength. At least, the following components are considered:

* Throughput of OIWFS entrance window.
* Throughput of IRIS Science Dewar Entrance Window.
* Quantum efficiency of the detectors.

__TBD__: More components may have to be considered.

Type of element is float. The number of elements is __TBD__.
"""
           type = array
           units = arcsec
        }
      ]
    }
    {
      name = upperPrism
      description = """
This telemetry contains statuses of the upper prism that may change over time in slow rate (up to approximately 1 Hz).

__TBD__: It may be better to separate some attributes into another data structure so that the whole telemetry won't be sent over the network only one attribute is changed.

__TODO__: Check the behavior of all statuses defined in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf). Currently, 'A stop code', 'A axis reference position', 'A axis auxiliary position', 'A axis analog input', 'A Hall Input status' and some status bits in 'A xis status' and 'A axis switches' are not used in this model. If they are useful, let them in this model.
"""
      minRate = 1
      maxRate = 1
      archive = true
      archiveRate = 1
      attributes = [
        {
          name = status
          description  = """
Current status of upper prism. Meaning of each value is as follows:  

* __HOMING__    : The prism axis is finding home.
* __FOLLOWING__ : The prism is following.
* __ROTATING__  : The prism is rotating to a designated position.
* __STOP__      : The prism is not rotating.
* __UNKNOWN__   : Unknown state.
"""
          enum = [HOMING, FOLLOWING, ROTATING, STOP, UNKNOWN]
        }
        {
          name = rotation
          description  = "Current rotation of upper prism."
          type = float
          units = degree
	  minimum = -180
	  maximum = 180
        }
        {
          name = targetRotation
          description  = "Demanded rotatoin of upper prism."
          type = float
          units = degree
	  minimum = -180
	  maximum = 180
        }
        {
          name = rawRotation
          description  = """
Current raw rotation angle of upper prism. This status corresponds to ADDR 90-93 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the upper prism axis is assigned to 'A'.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = targetRawRotation
          description  = """
Demanded raw rotation angle of upper prism.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = rawRotationError
          description  = """
Current raw rotation error of the upper prism. This status corresponds to ADDR 94-97 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the upper prism axis is assigned to 'A'.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = homeSwitch
          description = "Current home switch state of the upper prism axis." 
          type = boolean
        }
        {
          name = motorOff
          description = """
This status corresponds to BIT 0 'Motor Off' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the upper prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = finalDeceleration
          description = """
This status corresponds to BIT 3 'Motoin is making final deceleration' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the upper prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status. This signal may flip very fast, so the telemetry rate may have to be very fast.
"""
          type = boolean
        }
        {
          name = stoppingForLimit
          description = """
This status corresponds to BIT 4 'Motion is stopping due to ST of Limit Switch' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the upper prism axis is assigned to 'A'. This status supposed to be always false because theere is no limit switch in the upper prism angle.

__TODO__: Check the actual meaning of this status. This signal may flip very fast, so the telemetry rate may have to be very fast.
"""
          type = boolean
        }
        {
          name = slewing
          description = """
This status corresponds to BIT 5 'Motion is slewing' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the upper prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = negativeDirection
          description = """
This status corresponds to BIT 7 'Negative Direction Move' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the upper prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = homing
          description = """
This status corresponds to BIT 12 '(FE) Find Edge in Progress' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the upper prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = motionPAOnly
          description = """
This status corresponds to BIT 13 'Mod of Motion PA only' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the upper prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = motionMode
          description = """
This status corresponds to BIT 14 'Mode of Motion PA or PR' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the upper prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = moving
          description = """
This status corresponds to BIT 15 'Move in Progress' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the upper prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = velocity
          description  = "Current velocity. This status corresponds to ADDR 102-105 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the upper prism axis is assigned to 'A'."
          type = float
          units = mm/s
        }
        {
          name = torque
          description  = """
Current torque. This status corresponds to ADDR 106-109 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the upper prism axis is assigned to 'A'.

__TODO__: Check what torque value is entered here. Motion controller may simply write a value corresponding the current electric current. Thus, this attribute may be useful to check the current electric current setting. This attribute would be different from actual torque applied to the axis because there is no toqrue sensor attached.
"""
          type = float
          units = mNm
        }
      ]
    }
    {
      name = upperPrismConf
      description = """
Current configuration for the upper prism.

This telemetry can be used to check if the current configuration is as intended. If not, the user shoud edit the configuration via Configuration Service or a local file, and re-initialize this assembly so that the latest configuration will be reloaded. This telemetry is updated only when initialization is performed.

__ASSUMPTION__: Historical record of configuration is retained by Configuration Service as described in [TMT Software Design Document (Volume 2) (TMT.SFT.TEC.12.016.DRF04)](https://docushare.tmt.org/docushare/dsweb/Get/Document-24358/TMTSoftwareDesign2_DRF04.pdf). Thus, it is not necessary to archive this telemetry.
"""
      maxRate = 1
      archive = false
      attributes = [
        {
          name = rotationOffset
          description = "Offset angle from the home switch to the rotation angle of 0 degree."
          type = float
          units = deg
	  minimum = -180
	  maximum = 180
        }
        {
          name = rawRotationOffset
          description = """
Raw offset angle from the home switch to the rotation angle of 0 degree.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = acceleration
          description = """
Acceleration of trapzoidal profile for normal rotation. This value won't be applied to following motion.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
          units = degree/s/s
        }
        {
          name = rawAcceleration
          description = """
Raw acceleration of trapzoidal profile for normal rotation. This value won't be applied to following motion. This value corresponds to the argument of AC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
        }
        {
          name = deceleration
          description = """
Deceleration of trapzoidal profile for normal rotation. This value won't be applied to following motion.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = float
          units = degree/s/s
        }
        {
          name = rawDeceleration
          description = """
Raw deceleration of trapzoidal profile for normal rotation. This value won't be applied to following motion. This value corresponds to the argument of DC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = velocity
          description = """
Maximum velocity of trapezoidal profile for normal rotation. This value won't be applied to following motion.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.

__TBD__: Don't we need to define base velocity (start/stop velocity)? Couldn't find equivalent parameter in [Manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf).
"""
          type = float
          units = degree/s
        }
        {
          name = rawVelocity
          description = """
Raw maximum velocity of trapezoidal profile for normal rotation. This value won't be applied to following motion. This value corresponds to the argument of SP command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = smoothing
          description = """
Smoothing factor of trapezoidal profile for normal rotation. This value won't be applied to following motion. See 'Motion Smoothing' chapter in [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) for more details. The argument of KS command corresponds to this factor. 0.25 means no smoothing, and 64 means the maximum smoothing.

__TODO__: Check if the type should be integer or float. According to [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf), this value is 'an integer from 0.25 to 64 and represents the amount of smoothing', but 0.25 is not an integer...

__TBD__: Maybe it would be useful to map this value to the range between 0 to 1 for simplicity.
"""
          type = float
          minimum = 0.25
          maximum = 64
        }
        {
          name = accelerationHoming
          description = """
Acceleration of trapzoidal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
          units = degree/s/s
        }
        {
          name = rawAccelerationHoming
          description = """
Raw acceleration value of trapzoidal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = integer
        }
        {
          name = decelerationHoming
          description = """
Deceleration of trapzoidal profile for homoing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = float
          units = degree/s/s
        }
        {
          name = rawDecelerationHoming
          description = """
Raw deceleration value of trapzoidal profile for homing. This value corresponds to the argument of DC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = velocityHoming
          description = """
Maximum velocity of trapezoipdal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.

__TBD__: Don't we need to define base velocity (start/stop velocity)? Couldn't find equivalent parameter in [Manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf).
"""
          type = float
          units = degree/s
        }
        {
          name = rawVelocityHoming
          description = """
Raw maximum velocity value of trapezoipdal profile for homing. This value corresponds to the argument of SP command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = smoothingHoming
          description = """
Smoothing factor of trapezoidal profile for homing. See 'Motion Smoothing' chapter in [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) for more details. The argument of KS command corresponds to this factor. 0.25 means no smoothing, and 64 means the maximum smoothing.

__TODO__: Check if the type should be integer or float. According to [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf), this value is 'an integer from 0.25 to 64 and represents the amount of smoothing', but 0.25 is not an integer...

__TODO__: Check if KS option is respected for Finding Edge motion.

__TBD__: Maybe it would be useful to map this value to the range between 0 to 1 for simplicity.

"""
          type = float
          minimum = 0.25
          maximum = 64
        }
      ]
    }
    {
      name = lowerPrism
      description = """
This telemetry contains statuses of the lower prism that may change over time in slow rate (up to approximately 1 Hz).

__TBD__: It may be better to separate some attributes into another data structure so that the whole telemetry won't be sent over the network only one attribute is changed.

__TODO__: Check the behavior of all statuses defined in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf). Currently, 'A stop code', 'A axis reference position', 'A axis auxiliary position', 'A axis analog input', 'A Hall Input status' and some status bits in 'A xis status' and 'A axis switches' are not used in this model. If they are useful, let them in this model.
"""
      minRate = 1
      maxRate = 1
      archive = true
      archiveRate = 1
      attributes = [
        {
          name = status
          description  = """
Current status of lower prism. Meaning of each value is as follows:  

* __HOMING__    : The prism axis is finding home.
* __FOLLOWING__ : The prism is following.
* __ROTATING__  : The prism is rotating to a designated position.
* __STOP__      : The prism is not rotating.
* __UNKNOWN__   : Unknown state.
"""
          enum = [HOMING, FOLLOWING, ROTATING, STOP, UNKNOWN]
        }
        {
          name = rotation
          description  = "Current rotation of lower prism."
          type = float
          units = degree
	  minimum = -180
	  maximum = 180
        }
        {
          name = targetRotation
          description  = "Demanded rotatoin of lower prism."
          type = float
          units = degree
	  minimum = -180
	  maximum = 180
        }
        {
          name = rawRotation
          description  = """
Current raw rotation angle of lower prism. This status corresponds to ADDR 90-93 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the lower prism axis is assigned to 'A'.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = targetRawRotation
          description  = """
Demanded raw rotation angle of lower prism.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = rawRotationError
          description  = """
Current raw rotation error of the lower prism. This status corresponds to ADDR 94-97 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the lower prism axis is assigned to 'A'.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = homeSwitch
          description = "Current home switch state of the lower prism axis." 
          type = boolean
        }
        {
          name = motorOff
          description = """
This status corresponds to BIT 0 'Motor Off' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the lower prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = finalDeceleration
          description = """
This status corresponds to BIT 3 'Motoin is making final deceleration' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the lower prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status. This signal may flip very fast, so the telemetry rate may have to be very fast.
"""
          type = boolean
        }
        {
          name = stoppingForLimit
          description = """
This status corresponds to BIT 4 'Motion is stopping due to ST of Limit Switch' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the lower prism axis is assigned to 'A'. This status supposed to be always false because theere is no limit switch in the lower prism angle.

__TODO__: Check the actual meaning of this status. This signal may flip very fast, so the telemetry rate may have to be very fast.
"""
          type = boolean
        }
        {
          name = slewing
          description = """
This status corresponds to BIT 5 'Motion is slewing' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the lower prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = negativeDirection
          description = """
This status corresponds to BIT 7 'Negative Direction Move' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the lower prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = homing
          description = """
This status corresponds to BIT 12 '(FE) Find Edge in Progress' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the lower prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = motionPAOnly
          description = """
This status corresponds to BIT 13 'Mod of Motion PA only' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the lower prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = motionMode
          description = """
This status corresponds to BIT 14 'Mode of Motion PA or PR' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the lower prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = moving
          description = """
This status corresponds to BIT 15 'Move in Progress' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the lower prism axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = velocity
          description  = "Current velocity. This status corresponds to ADDR 102-105 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the lower prism axis is assigned to 'A'."
          type = float
          units = mm/s
        }
        {
          name = torque
          description  = """
Current torque. This status corresponds to ADDR 106-109 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the lower prism axis is assigned to 'A'.

__TODO__: Check what torque value is entered here. Motion controller may simply write a value corresponding the current electric current. Thus, this attribute may be useful to check the current electric current setting. This attribute would be different from actual torque applied to the axis because there is no toqrue sensor attached.
"""
          type = float
          units = mNm
        }
      ]
    }
    {
      name = lowerPrismConf
      description = """
Current configuration for the lower prism.

This telemetry can be used to check if the current configuration is as intended. If not, the user shoud edit the configuration via Configuration Service or a local file, and re-initialize this assembly so that the latest configuration will be reloaded. This telemetry is updated only when initialization is performed.

__ASSUMPTION__: Historical record of configuration is retained by Configuration Service as described in [TMT Software Design Document (Volume 2) (TMT.SFT.TEC.12.016.DRF04)](https://docushare.tmt.org/docushare/dsweb/Get/Document-24358/TMTSoftwareDesign2_DRF04.pdf). Thus, it is not necessary to archive this telemetry.
"""
      maxRate = 1
      archive = false
      attributes = [
        {
          name = rotationOffset
          description = "Offset angle from the home switch to the rotation angle of 0 degree."
          type = float
          units = deg
	  minimum = -180
	  maximum = 180
        }
        {
          name = rawRotationOffset
          description = """
Raw offset angle from the home switch to the rotation angle of 0 degree.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = acceleration
          description = """
Acceleration of trapzoidal profile for normal rotation. This value won't be applied to following motion.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
          units = degree/s/s
        }
        {
          name = rawAcceleration
          description = """
Raw acceleration of trapzoidal profile for normal rotation. This value won't be applied to following motion. This value corresponds to the argument of AC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
        }
        {
          name = deceleration
          description = """
Deceleration of trapzoidal profile for normal rotation. This value won't be applied to following motion.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = float
          units = degree/s/s
        }
        {
          name = rawDeceleration
          description = """
Raw deceleration of trapzoidal profile for normal rotation. This value won't be applied to following motion. This value corresponds to the argument of DC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = velocity
          description = """
Maximum velocity of trapezoidal profile for normal rotation. This value won't be applied to following motion.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.

__TBD__: Don't we need to define base velocity (start/stop velocity)? Couldn't find equivalent parameter in [Manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf).
"""
          type = float
          units = degree/s
        }
        {
          name = rawVelocity
          description = """
Raw maximum velocity of trapezoidal profile for normal rotation. This value won't be applied to following motion. This value corresponds to the argument of SP command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = smoothing
          description = """
Smoothing factor of trapezoidal profile for normal rotation. This value won't be applied to following motion. See 'Motion Smoothing' chapter in [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) for more details. The argument of KS command corresponds to this factor. 0.25 means no smoothing, and 64 means the maximum smoothing.

__TODO__: Check if the type should be integer or float. According to [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf), this value is 'an integer from 0.25 to 64 and represents the amount of smoothing', but 0.25 is not an integer...

__TBD__: Maybe it would be useful to map this value to the range between 0 to 1 for simplicity.
"""
          type = float
          minimum = 0.25
          maximum = 64
        }
        {
          name = accelerationHoming
          description = """
Acceleration of trapzoidal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
          units = degree/s/s
        }
        {
          name = rawAccelerationHoming
          description = """
Raw acceleration value of trapzoidal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = integer
        }
        {
          name = decelerationHoming
          description = """
Deceleration of trapzoidal profile for homoing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = float
          units = degree/s/s
        }
        {
          name = rawDecelerationHoming
          description = """
Raw deceleration value of trapzoidal profile for homing. This value corresponds to the argument of DC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = velocityHoming
          description = """
Maximum velocity of trapezoipdal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.

__TBD__: Don't we need to define base velocity (start/stop velocity)? Couldn't find equivalent parameter in [Manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf).
"""
          type = float
          units = degree/s
        }
        {
          name = rawVelocityHoming
          description = """
Raw maximum velocity value of trapezoipdal profile for homing. This value corresponds to the argument of SP command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = smoothingHoming
          description = """
Smoothing factor of trapezoidal profile for homing. See 'Motion Smoothing' chapter in [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) for more details. The argument of KS command corresponds to this factor. 0.25 means no smoothing, and 64 means the maximum smoothing.

__TODO__: Check if the type should be integer or float. According to [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf), this value is 'an integer from 0.25 to 64 and represents the amount of smoothing', but 0.25 is not an integer...

__TODO__: Check if KS option is respected for Finding Edge motion.

__TBD__: Maybe it would be useful to map this value to the range between 0 to 1 for simplicity.

"""
          type = float
          minimum = 0.25
          maximum = 64
        }
      ]
    }
    {
      name = retructionAxis
      description = """
This telemetry contains statuses of the retruction axis that may change over time in slow rate (up to approximately 1 Hz).

__TBD__: It may be better to separate some attributes into another data structure so that the whole telemetry won't be sent over the network only one attribute is changed.

__TODO__: Check the behavior of all statuses defined in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf). Currently, 'A stop code', 'A axis reference position', 'A axis auxiliary position', 'A axis analog input', 'A Hall Input status' and some status bits in 'A xis status' and 'A axis switches' are not used in this model. If they are useful, let them in this model.
"""
      minRate = 1
      maxRate = 1
      archive = true
      archiveRate = 1
      attributes = [
        {
          name = positionStatus
          description = """
Summary of the retruction axis.

* __IN__     : ADC is inserted in the science light path and ready for observation using ADC.
* __HALFWAY__: Some motion is on-going, or ADC is not in either the inserted position or the retructed position.
* __OUT__    : ADC is completely retructed from the sicence light path and ready.
* __UNKNOWN__: Unknown state.

This status is irrelevant to other axes. So, even if two prisms are rotating to follow telescope motion, this status can be IN.

__TBD__: Exact mapping to this status shall be defined.
"""
	  enum = [IN, HALFWAY, OUT, UNKNOWN]
        }
        {
          name = position
          description  = """
Current position of the retruction axis. Home position is 0.

__TODO__: Define maximum and minimum value.
"""
          type = float
          units = mm
        }
        {
          name = targetPosition
          description  = """
Demanded position of the retruction axis. Home position is 0.

__TODO__: Define maximum and minimum value.
"""
          type = float
          units = mm
        }
        {
          name = rawPosition
          description  = """
Current raw position of the retruction axis. This status corresponds to ADDR 90-93 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the retruction axis is assigned to 'A'.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = targetRawPosition
          description  = """
Demanded raw position of the retruction axis.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = rawPositionError
          description  = """
Current raw position error of the retruction axis. This status corresponds to ADDR 94-97 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the retruction axis is assigned to 'A'.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = retructedSwitch
          description = "Current status of retruction position switch. This status corresponds to BIT 1 of ADDR 84 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the retruction axis is assigned to 'A'."
          type = boolean
        }
        {
          name = reverseLimit
          description = "Current status of reverse limit switch. This status corresponds to BIT 2 of ADDR 84 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the retruction axis is assigned to 'A'."
          description = "Current status of reverse limit switch."
          type = boolean
        }
        {
          name = forwardLimit
          description = "Current status of forward limit switch. This status corresponds to BIT 3 of ADDR 84 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf)."
          type = boolean
        }
        {
          name = motorOff
          description = """
This status corresponds to BIT 0 'Motor Off' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the retruction axis is assigned to 'A'.

 __TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = finalDeceleration
          description = """
This status corresponds to BIT 3 'Motoin is making final deceleration' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the retruction axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status. This signal may flip very fast, so the telemetry rate may have to be very fast.
"""
          type = boolean
        }
        {
          name = stoppingForLimit
          description = """
This status corresponds to BIT 4 'Motion is stopping due to ST of Limit Switch' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the retruction axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status. This signal may flip very fast, so the telemetry rate may have to be very fast.
"""
          type = boolean
        }
        {
          name = slewing
          description = """This status corresponds to BIT 5 'Motion is slewing' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the retruction axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = negativeDirection
          description = """This status corresponds to BIT 7 'Negative Direction Move' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the retruction axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = homing
          description = """
This status corresponds to BIT 12 '(FE) Find Edge in Progress' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the retruction axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = motionPAOnly
          description = """This status corresponds to BIT 13 'Mod of Motion PA only' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the retruction axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = motionMode
          description = """
This status corresponds to BIT 14 'Mode of Motion PA or PR' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the retruction axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = moving
          description = """This status corresponds to BIT 15 'Move in Progress' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the retruction axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = velocity
          description  = "Current velocity. This status corresponds to ADDR 102-105 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the retruction axis is assigned to 'A'."
          type = float
          units = mm/s
        }
        {
          name = torque
          description  = """
Current torque. This status corresponds to ADDR 106-109 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the retruction axis is assigned to 'A'.

__TODO__: Check what torque value is entered here. Motion controller may simply write a value corresponding the current electric current. Thus, this attribute may be useful to check the current electric current setting. This attribute would be different from actual torque applied to the axis because there is no toqrue sensor attached.
"""
          type = float
          units = mNm
        }
      ]
    }
    {
      name = retructionAxisConf
      description = """
Current configuration for retruction axis.

This telemetry can be used to check if the current configuration is as intended. If not, the user shoud edit the configuration via Configuration Service or a local file, and re-initialize this assembly so that the latest configuration will be reloaded. This telemetry is updated only when initialization is performed.

__ASSUMPTION__: Historical record of configuration is retained by Configuration Service as described in [TMT Software Design Document (Volume 2) (TMT.SFT.TEC.12.016.DRF04)](https://docushare.tmt.org/docushare/dsweb/Get/Document-24358/TMTSoftwareDesign2_DRF04.pdf). Thus, it is not necessary to archive this telemetry.
"""
      maxRate = 1
      archive = false
      attributes = [
        {
          name = insertedPosition
          description = """
Inserted position from the retruction position switch.

__TODO__: Define maximum and minimum value.
"""
          type = float
          units = mm
        }
        {
          name = rawInsertedPosition
          description = """
Raw inserted position from the retruction position switch.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = insertedPositionDelta
          description = """
Acceptable positioning deviation at the inserted position.

__TODO__: Define maximum and minimum value.
"""
          type = float
          units = mm
        }
        {
          name = rawInsertedPositionDelta
          description = """
Raw acceptable positioning deviation at the inserted position.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = acceleration
          description = """
Acceleration of trapzoidal profile for normal insertion and retruction movement.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
          units = mm/s/s
        }
        {
          name = rawAcceleration
          description = """
Raw acceleration value of trapzoidal profile for normal insertion and retruction movement. This value corresponds to the argument of AC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
        }
        {
          name = deceleration
          description = """
Deceleration of trapzoidal profile for normal insertion and retruction movement.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = float
          units = mm/s/s
        }
        {
          name = rawDeceleration
          description = """
Raw deceleration value of trapzoidal profile for normal insertion and retruction movement. This value corresponds to the argument of DC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = velocity
          description = """
Maximum velocity of trapezoipdal profile for normal insertion and retruction movement.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.

__TBD__: Don't we need to define base velocity (start/stop velocity)? Couldn't find equivalent parameter in [Manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf).
"""
          type = float
          units = mm/s
        }
        {
          name = rawVelocity
          description = """
Raw maximum velocity value of trapezoipdal profile for normal insertion and retruction movement. This value corresponds to the argument of SP command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = smoothing
          description = """
Smoothing factor of trapezoidal profile for normal insertion and retruction movement. See 'Motion Smoothing' chapter in [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) for more details. The argument of KS command corresponds to this factor. 0.25 means no smoothing, and 64 means the maximum smoothing.

__TODO__: Check if the type should be integer or float. According to [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf), this value is 'an integer from 0.25 to 64 and represents the amount of smoothing', but 0.25 is not an integer...

__TBD__: Maybe it would be useful to map this value to the range between 0 to 1 for simplicity.
"""
          type = float
          minimum = 0.25
          maximum = 64
        }
        {
          name = accelerationHoming
          description = """
Acceleration of trapzoidal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
          units = mm/s/s
        }
        {
          name = rawAccelerationHoming
          description = """
Raw acceleration value of trapzoidal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = integer
        }
        {
          name = decelerationHoming
          description = """
Deceleration of trapzoidal profile for homoing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = float
          units = mm/s/s
        }
        {
          name = rawDecelerationHoming
          description = """
Raw deceleration value of trapzoidal profile for homing. This value corresponds to the argument of DC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = velocityHoming
          description = """
Maximum velocity of trapezoipdal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.

__TBD__: Don't we need to define base velocity (start/stop velocity)? Couldn't find equivalent parameter in [Manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf).
"""
          type = float
          units = mm/s
        }
        {
          name = rawVelocityHoming
          description = """
Raw maximum velocity value of trapezoipdal profile for homing. This value corresponds to the argument of SP command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = smoothingHoming
          description = """
Smoothing factor of trapezoidal profile for homing. See 'Motion Smoothing' chapter in [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) for more details. The argument of KS command corresponds to this factor. 0.25 means no smoothing, and 64 means the maximum smoothing.

__TODO__: Check if the type should be integer or float. According to [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf), this value is 'an integer from 0.25 to 64 and represents the amount of smoothing', but 0.25 is not an integer...

__TODO__: Check if KS option is respected for Finding Edge motion.

__TBD__: Maybe it would be useful to map this value to the range between 0 to 1 for simplicity.

"""
          type = float
          minimum = 0.25
          maximum = 64
        }
      ]
    }
  ]
}
